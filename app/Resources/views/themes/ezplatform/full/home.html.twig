{% extends 'pagelayout.html.twig' %}

{% block main %}
    <main class="white-background">
{% endblock %}

{% block content %}
    {% if items.searchHits is not empty %}
        {% for item in items.searchHits %}
            {% if item.valueObject.id not in omitted_location_ids %}
                {% if not loop.first %}
                    {% set delimiter = 'delimiter' %}
                {% else %}
                    {% set delimiter = '' %}
                {% endif %}

                {{ render_esi(controller('ez_content:viewAction', {
                    'locationId': item.valueObject.contentInfo.mainLocationId,
                    'viewType': 'row',
                    'params': {
                        'delimiter': delimiter,
                        'position': loop.index0
                    }
                })) }}
            {% endif %}
        {% endfor %}
    {% endif %}
{% endblock %}
